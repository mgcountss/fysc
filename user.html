<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="/bootstrap.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <meta charset="utf-8">
    <meta property="twitter:title" content="SFMGTube">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fysc.mgcounts.com">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://fysc.mgcounts.com">
    <meta property="og:description" content="SFMGTube">
    <meta property="twitter:description" content="SFMGTube">
    <link rel="stylesheet" href="./odometer.css">
    <script src="./odometer.js"></script>
    <script src="./highstock.js"></script>
    <title>SFMGTube</title>
    <style>
        body {
            background-color: #202020;
            word-wrap: break-word;
        }

        * {
            word-wrap: break-word;
            overflow-x: hidden;
        }

        #image,
        #name,
        #stats,
        #badges,
        #thing {
            overflow-x: visible;
        }

        #edit {
            border-radius: 50%;
        }

        ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #2a2a2a;
        }

        li {
            float: left;
        }

        li a {
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }

        li a:hover:not(.active) {
            background-color: #111;
        }

        #bell:hover,
        #upload:hover {
            cursor: pointer;
        }

        #dropdown {
            transition: 500ms opacity, 500ms height;
        }

        h3 {
            text-overflow: clip;
            overflow: hidden;
            white-space: nowrap;
        }

        #search {
            background-color: #202020;
            width: 150%;
            color: #FFF;
        }

        #banner {
            width: 100%;
            height: 175px;
            background-image: URL('');
            background-repeat: no-repeat;
            background-size: cover;
        }

        #stats {
            width: 80%;
            display: flex;
            text-align: left;
            margin-top: 20px;
        }

        .odometer {
            overflow-x: hidden;
            overflow-y: hidden;
            overflow: hidden;
        }
    </style>
</head>

<body class="body">
    <center>
        <ul>
            <li><a href="/" style="font-size: 20px; font-weight: 600;">SFMGTube</a></li>
            <li><input class="form-control mr-sm-2" id="search" placeholder="Search" style="margin-top: 10px;"></li>
            <li style="margin-top: 10px; margin-left: 0px;"><button
                    style="color: #FFF; height: 37px; width: 100px; box-sizing: border-box; display: inline-block; border-radius: 0.25rem; border: solid #FFF 1px; background-color: #202020;"
                    onclick="window.location.href = '/old'" style="margin-top: 20px;">Search</button></li>
            <li style="float: right;">
                <div style="display: flex;">
                    <i onclick="window.location.href = 'https://www.youtube.com/@sfmg/live'" id="upload"
                        class="fa fa-upload" aria-hidden="true"
                        style="font-size: 30px; margin-top: 17px; width: 60px;"></i>
                    <a href="/edit"><img src="" class="edit" id="edit" style="height: 35px; width: 35px;"></a>
                </div>
            </li>
        </ul>
        <div id="banner"></div>
        <div style="margin-top: 5px;">
            <a onclick="changeTab('videos')"><button id="button1"
                    style="text-align: center; font-weight: bolder; width: 11%; font-size: 2vw; border: none; border-radius: 1vw; color: #FFF; background-color: #2a2a2a;">Videos</button></a>
            <a onclick="changeTab('comments')"><button id="button2"
                    style="text-align: center; font-weight: bolder; width: 11%; font-size: 2vw; border: none; border-radius: 1vw; color: #FFF; background-color: #2a2a2a;">Comments</button></a>
            <a onclick="changeTab('posts')"><button id="button3"
                    style="text-align: center; font-weight: bolder; width: 11%; font-size: 2vw; border: none; border-radius: 1vw; color: #FFF; background-color: #2a2a2a;">Posts</button></a>
            <a onclick="changeTab('playlists')"><button id="button4"
                    style="text-align: center; font-weight: bolder; width: 11%; font-size: 2vw; border: none; border-radius: 1vw; color: #FFF; background-color: #2a2a2a;">Playlists</button></a>
            <a onclick="changeTab('graphs')"><button id="button5"
                    style="text-align: center; font-weight: bolder; width: 11%; font-size: 2vw; border: none; border-radius: 1vw; color: #FFF; background-color: #2a2a2a;">Graphs</button></a>
            <a onclick="changeTab('stats')"><button id="button6"
                    style="text-align: center; font-weight: bolder; width: 11%; font-size: 2vw; border: none; border-radius: 1vw; color: #FFF; background-color: #2a2a2a;">Live
                    Stats</button></a>
            <a onclick="changeTab('table')"><button id="button7"
                    style="text-align: center; font-weight: bolder; width: 11%; font-size: 2vw; border: none; border-radius: 1vw; color: #FFF; background-color: #2a2a2a;">Stats
                    Table</button></a>
        </div>
        <hr style="background-color: #FFF;">
        <div id="stats" style="margin-top: 3vw;">
            <img src="" style="margin-top: -1vw; height: 6vw; width: 6vw; border-radius: 50%; overflow-x: revert;"
                id="image">
            <div style="margin-left: 1vw;" id="thing">
                <div id="badges">
                    <h1 style="display: inline-block; font-weight: 900; font-size: 3vw; margin-top: -1vw;" id="name">
                        Loading...</h1>
                    <img src="/verified.png" style="vertical-align: top; height: 30px; width: 30px; visibility: hidden"
                        id="verified">
                </div>
                <h1 id="subs" style="font-weight: 300; font-size: 2vw; color: #818181; margin-top: -0.5vw;">
                    0 subscribers
                </h1>
                <h6 id="clan">Clan: none</h6>
            </div>
        </div>
        <hr style="background-color: #FFF;">
        <br>
        <div id="videosTab" style="column-gap: 1vw; width: 95%; display: grid; grid-template-columns: repeat(2, 1fr);">
            <button onclick="videosSort('views')">Sort By: Views</button>
            <button onclick="videosSort('likes')">Sort By: Likes</button>
            <button onclick="videosSort('dislikes')">Sort By: Dislikes</button>
            <button onclick="videosSort('comments')">Sort By: Comments</button>
            <button onclick="videosSort('date')">Sort By: Date</button>
            <button onclick="videosSort('length')">Sort By Length</button>
            <button onclick="videosSort('avg')">Sort By Avg Watchtime</button>
            <button onclick="videosSort('algorithm')">Sort By In Algorithm</button>
        </div>
        <div id="commentsTab"
            style="column-gap: 1vw; width: 95%; display: none; grid-template-columns: repeat(3, 1fr);">
            <button onclick="commentsSort('likes')">Sort By: Likes</button>
            <button onclick="commentsSort('replies')">Sort By: Replies</button>
            <button onclick="commentsSort('date')">Sort By: Date</button>

        </div>
        <div id="postsTab" style="column-gap: 1vw; width: 95%; display: none; grid-template-columns: repeat(3, 1fr);">
            <button onclick="postsSort('likes')">Sort By: Likes</button>
            <button onclick="postsSort('comments')">Sort By: Comments</button>
            <button onclick="postsSort('date')">Sort By: Date</button>
        </div>
        <div id="playlistsTab"
            style="column-gap: 1vw; width: 95%; display: none; grid-template-columns: repeat(3, 1fr);">
            <button onclick="playlistsSort('views')">Sort By: Views</button>
            <button onclick="playlistsSort('videos')">Sort By: Videos</button>
            <button onclick="playlistsSort('date')">Sort By: Date</button>
        </div>
        <style>
            .chart {
                height: 10vw;
                width: 100%;
            }

            .c {
                width: 30vw;
            }
        </style>
        <div id="graphsTab" style="column-gap: 1vw; width: 95%; display: none; grid-template-columns: repeat(3, 1fr);">
            <div style="border: solid 1px #FFF;" class="c">
                <h6>Subscribers</h6>
                <div id="chart1" class="chart" style="color: #000000;"></div>
            </div>
            <div style="border: solid 1px #FFF;" class="c">
                <h6>Views</h6>
                <div id="chart2" class="chart" style="color: #000000;"></div>
            </div>
            <div style="border: solid 1px #FFF;" class="c">
                <h6>Likes</h6>
                <div id="chart3" class="chart" style="color: #000000;"></div>
            </div>
            <div style="border: solid 1px #FFF;" class="c">
                <h6>Dislikes</h6>
                <div id="chart4" class="chart" style="color: #000000;"></div>
            </div>
            <div style="border: solid 1px #FFF;" class="c">
                <h6>Comments</h6>
                <div id="chart5" class="chart" style="color: #000000;"></div>
            </div>
            <div style="border: solid 1px #FFF;" class="c">
                <h6>Videos</h6>
                <div id="chart6" class="chart" style="color: #000000;"></div>
            </div>
            <div style="border: solid 1px #FFF;" class="c">
                <h6>Commands</h6>
                <div id="chart7" class="chart" style="color: #000000;"></div>
            </div>
            <div style="border: solid 1px #FFF;" class="c">
                <h6>Streams</h6>
                <div id="chart8" class="chart" style="color: #000000;"></div>
            </div>
            <div style="border: solid 1px #FFF;" class="c">
                <h6>Shorts</h6>
                <div id="chart9" class="chart" style="color: #000000;"></div>
            </div>
            <div style="border: solid 1px #FFF;" class="c">
                <h6>Songs</h6>
                <div id="chart10" class="chart" style="color: #000000;"></div>
            </div>
            <div style="border: solid 1px #FFF;" class="c">
                <h6>Comments</h6>
                <div id="chart11" class="chart" style="color: #000000;"></div>
            </div>
            <div style="border: solid 1px #FFF;" class="c">
                <h6>Playlists</h6>
                <div id="chart12" class="chart" style="color: #000000;"></div>
            </div>
            <div style="border: solid 1px #FFF;" class="c">
                <h6>Posts</h6>
                <div id="chart13" class="chart" style="color: #000000;"></div>
            </div>
            <div style="border: solid 1px #FFF;" class="c">
                <h6>Podcasts</h6>
                <div id="chart14" class="chart" style="color: #000000;"></div>
            </div>
        </div>
        <div id="statsTable"
            style="column-gap: 30px; margin-top: 20px; width: 95%; display: none; grid-template-columns: repeat(1, 1fr);">
            <div class="table-responsive" style="border: solid 1px #FFF;">
                <table style="width: 100%;">
                    <thead>
                        <tr>
                            <th style="border: solid 1px #FFF;">Date</th>
                            <th style="border: solid 1px #FFF;">Total Subscribers</th>
                            <th style="border: solid 1px #FFF;">Subscriber Gain</th>
                            <th style="border: solid 1px #FFF;">Total Views</th>
                            <th style="border: solid 1px #FFF;">View Gain</th>
                            <th style="border: solid 1px #FFF;">Total Likes</th>
                            <th style="border: solid 1px #FFF;">Like Gain</th>
                            <th style="border: solid 1px #FFF;">Total Dislikes</th>
                            <th style="border: solid 1px #FFF;">Dislike Gain</th>
                            <th style="border: solid 1px #FFF;">Total Comment</th>
                            <th style="border: solid 1px #FFF;">Comment Gain</th>
                            <th style="border: solid 1px #FFF;">Total Videos</th>
                            <th style="border: solid 1px #FFF;">Videos Gain</th>
                            <th style="border: solid 1px #FFF;">Total Commands</th>
                            <th style="border: solid 1px #FFF;">Commands Gain</th>
                            <th style="border: solid 1px #FFF;">Total Streams</th>
                            <th style="border: solid 1px #FFF;">Streams Gain</th>
                            <th style="border: solid 1px #FFF;">Total Shorts</th>
                            <th style="border: solid 1px #FFF;">Shorts Gain</th>
                            <th style="border: solid 1px #FFF;">Total Songs</th>
                            <th style="border: solid 1px #FFF;">Songs Gain</th>
                            <th style="border: solid 1px #FFF;">Total Comments</th>
                            <th style="border: solid 1px #FFF;">Comments Gain</th>
                            <th style="border: solid 1px #FFF;">Total Playlists</th>
                            <th style="border: solid 1px #FFF;">Playlists Gain</th>
                            <th style="border: solid 1px #FFF;">Total Posts</th>
                            <th style="border: solid 1px #FFF;">Posts Gain</th>
                            <th style="border: solid 1px #FFF;">Total Podcasts</th>
                            <th style="border: solid 1px #FFF;">Podcast Gain</th>
                        </tr>
                    </thead>
                    <tbody style="border-style: none;" class="counters"></tbody>
                </table>
            </div>
        </div>
        <div style="column-gap: 30px; margin-top: 20px; width: 95%; display: none;" id="statsTab">
            <h1 id="odometer" style="font-size: 8vw; margin-top: -1vw;">0</h1>
            <hr style="background-color: #FFF;">
            <div id="chart" style="height: 30vw; width: 100%; color: #000000; border: solid 0.3vw #FFF;"></div>
            <hr>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr);">
                <div style="border: solid #FFF; width: 100%;">
                    <h3>Likes</h3>
                    <h1 id="likes"></h1>
                </div>
                <div style="border: solid #FFF; width: 100%;">
                    <h3>Dislikes</h3>
                    <h1 id="dislikes"></h1>
                </div>
                <div style="border: solid #FFF; width: 100%;">
                    <h3>Comments</h3>
                    <h1 id="commentCount"></h1>
                </div>
                <div style="border: solid #FFF; width: 100%;">
                    <h3>Views</h3>
                    <h1 id="views"></h1>
                </div>
                <div style="border: solid #FFF; width: 100%;">
                    <h3>Videos</h3>
                    <h1 id="videos"></h1>
                </div>
                <div style="border: solid #FFF; width: 100%;">
                    <h3>Commands</h3>
                    <h1 id="commands"></h1>
                </div>
                <div style="border: solid #FFF; width: 100%;">
                    <h3>Streams</h3>
                    <h1 id="streams"></h1>
                </div>
                <div style="border: solid #FFF; width: 100%; margin-top: 15px;">
                    <h3>Shorts</h3>
                    <h1 id="shorts"></h1>
                </div>
                <div style="border: solid #FFF; width: 100%; margin-top: 15px;">
                    <h3>Songs</h3>
                    <h1 id="songs"></h1>
                </div>
                <div style="border: solid #FFF; width: 100%; margin-top: 15px;">
                    <h3>Comments</h3>
                    <h1 id="comments"></h1>
                </div>
                <div style="border: solid #FFF; width: 100%; margin-top: 15px;">
                    <h3>Playlists</h3>
                    <h1 id="playlists"></h1>
                </div>
                <div style="border: solid #FFF; width: 100%; margin-top: 15px;">
                    <h3>Posts</h3>
                    <h1 id="posts"></h1>
                </div>
                <div style="border: solid #FFF; width: 100%; margin-top: 15px;">
                    <h3>Podcasts</h3>
                    <h1 id="podcasts"></h1>
                </div>
                <div style="border: solid #FFF; width: 100%; margin-top: 15px;">
                    <h3>Last Message</h3>
                    <h1 id="last" style="font-size: 1.5vw;"></h1>
                </div>
            </div>
        </div>
    </center>
    </div>
    <br>
    <br>
</body>
<script>
    var params = new URLSearchParams(document.location.search.substring(1));
    var id = params.get("id");
    var name = ""
    let chartData1 = [];
    let chartData2 = [];
    let chartData3 = [];
    let chartData4 = [];
    let chartData5 = [];
    let chartData6 = [];
    let chartData7 = [];
    let chartData8 = [];
    let chartData9 = [];
    let chartData10 = [];
    let chartData11 = [];
    let chartData12 = [];
    let chartData13 = [];
    let chartData14 = [];
    let uploads = []
    let comments = []
    let posts = []
    let playlists = []
    let sort1 = "views"
    let sort2 = "views"
    let sort3 = "views"
    let sort4 = "views"

    let videosIndex = 14;
    let reloading = false;
    window.addEventListener('scroll', function () {
        if (window.scrollY + window.innerHeight >= document.body.scrollHeight - 100) {
            if (reloading) {
                return;
            }
            reloading = true;
            setTimeout(function () {
                videosIndex += 14;
                videosSort(sort1);
                reloading = false;
            }, 500);
        };
    });

    function videosSort(type) {
        if (type == sort1) {
            uploads = uploads.reverse()
        } else {
            if (type == "views") {
                uploads.sort((a, b) => (a.views > b.views) ? -1 : 1)
            } else if (type == "likes") {
                uploads.sort((a, b) => (a.likes > b.likes) ? -1 : 1)
            } else if (type == "dislikes") {
                uploads.sort((a, b) => (a.dislikes > b.dislikes) ? -1 : 1)
            } else if (type == "comments") {
                uploads.sort((a, b) => (a.comments > b.comments) ? -1 : 1)
            } else if (type == "date") {
                uploads.sort((a, b) => (a.posted > b.posted) ? -1 : 1)
            } else if (type == "length") {
                uploads.sort((a, b) => (a.duration > b.duration) ? -1 : 1)
            } else if (type == "avg") {
                uploads.sort((a, b) => (a.algorithm.averageWatchTime > b.algorithm.averageWatchTime) ? -1 : 1)
            } else if (type == "algorithm") {
                //sort by true or false
                uploads.sort((a, b) => (a.inAlgorithm > b.inAlgorithm) ? -1 : 1)
            }
        }
        sort1 = type
        document.getElementById('videosTab').innerHTML = `<button onclick="videosSort('views')">Sort By: Views</button>
            <button onclick="videosSort('likes')">Sort By: Likes</button>
            <button onclick="videosSort('dislikes')">Sort By: Dislikes</button>
            <button onclick="videosSort('comments')">Sort By: Comments</button>
            <button onclick="videosSort('date')">Sort By: Date</button>
            <button onclick="videosSort('length')">Sort By Length</button>
            <button onclick="videosSort('avg')">Sort By Avg Watchtime</button>
            <button onclick="videosSort('algorithm')">Sort By In Algorithm</button>
            `
        for (let q = 0; q < videosIndex; q++) {
            let card = document.createElement('div')
            if (!uploads[q].inAlgorithm) {
                uploads[q].inAlgorithm = false
            }
            if (!uploads[q].algorithm) {
                uploads[q].algorithm = {
                    averageWatchTime: 0
                }
            }
            if (!uploads[q].likes) {
                uploads[q].likes = 0
            }
            if (!uploads[q].dislikes) {
                uploads[q].dislikes = 0
            }
            if (!uploads[q].comments) {
                uploads[q].comments = 0
            }
            card.innerHTML = `
                    <div style="border: 0.5vw #FFF solid;">
                    <img src="/thumbnail/${uploads[q].id}" style="width: 100%; height: 20vw; object-fit: cover;">
                    <h1 style="font-weight: 900; font-size: 3vw; ">${uploads[q].title.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</h1>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); font-size: 1vw;">
                    <h4 style="font-size: 1.3vw;">${Math.floor(uploads[q].views).toLocaleString()} views</h4>
                    <h4 style="font-size: 1.3vw;">${Math.floor(uploads[q].likes).toLocaleString()} likes</h4>
                    <h4 style="font-size: 1.3vw;">${Math.floor(uploads[q].dislikes).toLocaleString()} dislikes</h4>
                    <h4 style="font-size: 1.3vw;">${Math.floor(uploads[q].comments).toLocaleString()} comments</h4>
                    <h4 style="font-size: 1.3vw;">Uploaded: ~${timeSince(uploads[q].posted)} ago</h4>
                    <h4 style="font-size: 1.3vw;">Length: ${uploads[q].duration}</h4>
                    <h4 style="font-size: 1.3vw;">Watchtime: ${uploads[q].algorithm.averageWatchTime}%</h4>
                    <h4 style="font-size: 1.3vw;">Algorithm: ${uploads[q].inAlgorithm}</h4>
                    <h4 style="font-size: 1.3vw;">Rating: ${uploads[q].algorithm.rating}</h4>
                    </div><hr style="background-color: #FFF;">
                    <h4 style="margin-top: -0.5em;">Type: ${uploads[q].type}</h4>
                    <h4 style="margin-top: 0vw;"><a href="/videos/${uploads[q].id + "!" + uploads[q].owner}">Link</a></h4>
                    </div>`
            document.getElementById('videosTab').appendChild(card);
        }
    }

    function commentsSort(type) {
        if (type == sort2) {
            comments = comments.reverse()
        } else {
            if (type == "likes") {
                comments.sort((a, b) => (a.likes > b.likes) ? -1 : 1)
            } else if (type == "replies") {
                comments.sort((a, b) => (a.replies > b.replies) ? -1 : 1)
            } else if (type == "date") {
                comments.sort((a, b) => (a.posted > b.posted) ? -1 : 1)
            }
        }
        sort2 = type
        document.getElementById('commentsTab').innerHTML = `<button onclick="commentsSort('likes')">Sort By: Likes</button>
            <button onclick="commentsSort('replies')">Sort By: Replies</button>
            <button onclick="commentsSort('date')">Sort By: Date</button>`
        for (let q = 0; q < comments.length; q++) {
            let card = document.createElement('div')
            card.innerHTML = `
                    <div style="border: 0.5vw #FFF solid;">
                    <h1 style="font-weight: 900; font-size: 3vw; ">${comments[q].title.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</h1>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); font-size: 1vw;">
                    <h4 style="font-size: 1.3vw;">${comments[q].likes.toLocaleString()} likes</h4>
                    <h4 style="font-size: 1.3vw;">${comments[q].replies.toLocaleString()} replies</h4>
                    <h4 style="font-size: 1.3vw;">Posted: ~${timeSince(comments[q].posted)} ago</h4>
                    <h4 style="font-size: 1.3vw;"><a href="/videos/${comments[q].contentID.replace('_', '!')}">Link</a></h4>
                    </div>
                </div>`
            document.getElementById('commentsTab').appendChild(card)
        }
    }

    function postsSort(type) {
        if (type == sort3) {
            posts = posts.reverse()
        } else {
            if (type == "likes") {
                posts.sort((a, b) => (a.likes > b.likes) ? -1 : 1)
            } else if (type == "comments") {
                posts.sort((a, b) => (a.comments > b.comments) ? -1 : 1)
            } else if (type == "date") {
                posts.sort((a, b) => (a.posted > b.posted) ? -1 : 1)
            }
        }
        sort3 = type
        document.getElementById('postsTab').innerHTML = `<button onclick="postsSort('likes')">Sort By: Likes</button>
            <button onclick="postsSort('comments')">Sort By: Comments</button>
            <button onclick="postsSort('date')">Sort By: Date</button>`
        for (let q = 0; q < posts.length; q++) {
            let card = document.createElement('div')
            card.innerHTML = `
                    <div style="border: 0.5vw #FFF solid;">
                    <h1 style="font-weight: 900; font-size: 3vw; ">${posts[q].title.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</h1>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); font-size: 1vw;">
                    <h4 style="font-size: 1.3vw;">${posts[q].likes.toLocaleString()} likes</h4>
                    <h4 style="font-size: 1.3vw;">${posts[q].comments.toLocaleString()} comments</h4>
                    <h4 style="font-size: 1.3vw;">Posted: ~${timeSince(posts[q].posted)} ago</h4>
                    </div>
                    </div>`
            document.getElementById('postsTab').appendChild(card)
        }
    }

    function playlistsSort(type) {
        if (type == sort4) {
            playlists = playlists.reverse()
        } else {
            if (type == "views") {
                playlists.sort((a, b) => (a.views > b.views) ? -1 : 1)
            } else if (type == "videos") {
                playlists.sort((a, b) => (a.videosWithin.length > b.videosWithin.length) ? -1 : 1)
            } else if (type == "date") {
                playlists.sort((a, b) => (a.posted > b.posted) ? -1 : 1)
            }
        }
        sort4 = type
        document.getElementById('playlistsTab').innerHTML = `
        <button onclick="playlistsSort('views')">Sort By: Views</button>
        <button onclick="playlistsSort('videos')">Sort By: Videos</button>
            <button onclick="playlistsSort('date')">Sort By: Date</button>`
        for (let q = 0; q < playlists.length; q++) {
            let card = document.createElement('div')
            card.innerHTML = `
                    <div style="border: 0.5vw #FFF solid;">
                    <h1 style="font-weight: 900; font-size: 3vw; ">${playlists[q].title.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</h1>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); font-size: 1vw;">
                    <h4 style="font-size: 1.3vw;">${playlists[q].videosWithin.length.toLocaleString()} videos</h4>
                    <h4 style="font-size: 1.3vw;">Posted: ~${timeSince(playlists[q].posted)} ago</h4>
                    </div>
                    </div>`
            document.getElementById('playlistsTab').appendChild(card)
        }
    }

    function load() {
        fetch('/user/' + id + '')
            .then(response => response.json())
            .then(data => {
                document.getElementById('name').innerHTML = data.name.replace(/</g, "&lt;").replace(/>/g, "&gt;")
                name = data.name
                document.getElementById('subs').innerHTML = Math.floor(data.subs).toLocaleString() + " subscribers"
                if (data.verified == true) {
                    document.getElementById('verified').style.visibility = "visible";
                }
                document.getElementById('image').src = data.image;
                document.getElementById('banner').style.background = "url(https://www.banner.yt/" + id + ")";
                document.getElementById('videos').innerHTML = data.videos;
                document.getElementById('commands').innerHTML = data.commands;
                document.getElementById('streams').innerHTML = data.streams;
                document.getElementById('shorts').innerHTML = data.shorts;
                document.getElementById('songs').innerHTML = data.songs;
                document.getElementById('comments').innerHTML = data.comments;
                document.getElementById('playlists').innerHTML = data.playlists;
                document.getElementById('posts').innerHTML = data.posts;
                document.getElementById('podcasts').innerHTML = data.podcasts;
                if (data.clan) {
                    document.getElementById('clan').innerHTML = "Clan: " + data.clan
                    document.getElementById('clan').style.color = data.clanColor || "#818181"
                }
                document.getElementById('last').innerHTML = new Date(data.lastMSG);
                for (let i = 0; i < data.commentList.length; i++) {
                    comments.push(data.commentList[i])
                }
                for (let i = 0; i < data.postList.length; i++) {
                    posts.push(data.postList[i])
                }
                for (let i = 0; i < data.playlistList.length; i++) {
                    playlists.push(data.playlistList[i])
                }
                for (let i = 0; i < data.videoList.length; i++) {
                    data.videoList[i].type = "Video"
                    uploads.push(data.videoList[i])
                }
                for (let i = 0; i < data.streamList.length; i++) {
                    data.streamList[i].type = "Stream"
                    uploads.push(data.streamList[i])
                }
                for (let i = 0; i < data.shortList.length; i++) {
                    data.shortList[i].type = "Short"
                    uploads.push(data.shortList[i])
                }
                for (let i = 0; i < data.songList.length; i++) {
                    data.songList[i].type = "Song"
                    uploads.push(data.songList[i])
                }
                for (let i = 0; i < data.podcastList.length; i++) {
                    data.podcastList[i].type = "Podcast"
                    uploads.push(data.podcastList[i])
                }
                uploads = uploads.sort((a, b) => b.posted - a.posted)
                for (let q = 0; q < videosIndex; q++) {
                    if (!uploads[q]) {
                        break;
                    }
                    let card = document.createElement('div')
                    if (!uploads[q].inAlgorithm) {
                        uploads[q].inAlgorithm = false
                    }
                    if (!uploads[q].algorithm) {
                        uploads[q].algorithm = {
                            averageWatchTime: 0
                        }
                    }
                    if (!uploads[q].likes) {
                        uploads[q].likes = 0
                    }
                    if (!uploads[q].dislikes) {
                        uploads[q].dislikes = 0
                    }
                    if (!uploads[q].comments) {
                        uploads[q].comments = 0
                    }
                    card.innerHTML = `
                    <div style="border: 0.5vw #FFF solid;">
                    <img src="/thumbnail/${uploads[q].id}" style="width: 100%; height: 20vw; object-fit: cover;">
                    <h1 style="font-weight: 900; font-size: 3vw; ">${uploads[q].title.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</h1>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); font-size: 1vw;">
                    <h4 style="font-size: 1.3vw;">${Math.floor(uploads[q].views).toLocaleString()} views</h4>
                    <h4 style="font-size: 1.3vw;">${Math.floor(uploads[q].likes).toLocaleString()} likes</h4>
                    <h4 style="font-size: 1.3vw;">${Math.floor(uploads[q].dislikes).toLocaleString()} dislikes</h4>
                    <h4 style="font-size: 1.3vw;">${Math.floor(uploads[q].comments).toLocaleString()} comments</h4>
                    <h4 style="font-size: 1.3vw;">Uploaded: ~${timeSince(uploads[q].posted)} ago</h4>
                    <h4 style="font-size: 1.3vw;">Length: ${uploads[q].duration}</h4>
                    <h4 style="font-size: 1.3vw;">Watchtime: ${uploads[q].algorithm.averageWatchTime}%</h4>
                    <h4 style="font-size: 1.3vw;">Algorithm: ${uploads[q].inAlgorithm}</h4>
                    <h4 style="font-size: 1.3vw;">Rating: ${uploads[q].algorithm.rating}</h4>
                    </div><hr style="background-color: #FFF;">
                    <h4 style="margin-top: -0.5em;">Type: ${uploads[q].type}</h4>
                    <h4 style="margin-top: 0vw;"><a href="/videos/${uploads[q].id + "!" + uploads[q].owner}">Link</a></h4>
                    </div>`
                    document.getElementById('videosTab').appendChild(card);
                }
                comments = comments.sort((a, b) => b.posted - a.posted)
                for (let q = 0; q < comments.length; q++) {
                    let card = document.createElement('div')
                    card.innerHTML = `
                    <div style="border: 0.5vw #FFF solid;">
                    <h1 style="font-weight: 900; font-size: 3vw; ">${comments[q].title.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</h1>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); font-size: 1vw;">
                    <h4 style="font-size: 1.3vw;">${comments[q].likes.toLocaleString()} likes</h4>
                    <h4 style="font-size: 1.3vw;">${comments[q].replies.toLocaleString()} replies</h4>
                    <h4 style="font-size: 1.3vw;">Posted: ~${timeSince(comments[q].posted)} ago</h4>
                    <h4 style="font-size: 1.3vw;"><a href="/videos/${comments[q].contentID?.replace('_', '!')}">Link</a></h4>
                    </div>
                    </div>`
                    document.getElementById('commentsTab').appendChild(card)
                }
                posts = posts.sort((a, b) => b.posted - a.posted)
                for (let q = 0; q < posts.length; q++) {
                    let card = document.createElement('div')
                    card.innerHTML = `
                    <div style="border: 0.5vw #FFF solid;">
                    <h1 style="font-weight: 900; font-size: 3vw; ">${name} ${posts[q].title.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</h1>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); font-size: 1vw;">
                    <h4 style="font-size: 1.3vw;">${posts[q].likes.toLocaleString()} likes</h4>
                    <h4 style="font-size: 1.3vw;">${posts[q].comments.toLocaleString()} comments</h4>
                    <h4 style="font-size: 1.3vw;">Posted: ~${timeSince(posts[q].posted)} ago</h4>
                    </div>
                    </div>`
                    document.getElementById('postsTab').appendChild(card)
                }
                playlists = playlists.sort((a, b) => b.posted - a.posted)
                for (let q = 0; q < playlists.length; q++) {
                    let card = document.createElement('div')
                    card.innerHTML = `
                    <div style="border: 0.5vw #FFF solid;">
                    <h1 style="font-weight: 900; font-size: 3vw; ">${playlists[q].title.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</h1>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); font-size: 1vw;">
                    <h4 style="font-size: 1.3vw;">${Math.floor(playlists[q].views).toLocaleString()} views</h4>
                    <h4 style="font-size: 1.3vw;">Videos: ${playlists[q].videosWithin?.length}</h4>
                    <h4 style="font-size: 1.3vw;">Posted: ~${timeSince(playlists[q].posted)} ago</h4>
                    </div>
                    </div>`
                    document.getElementById('playlistsTab').appendChild(card)
                }

                for (let q = 0; q < data.list.length; q++) {
                    data.list[q][0] = data.list[q][0].split('/')[0] + "/" + (parseFloat(data.list[q][0].split('/')[1]) + 1).toString() + '/' + data.list[q][0].split('/')[2].replace('at', 'at the') + " hour (CST)"
                    let subGain = 0;
                    let viewGain = 0;
                    let likeGain = 0;
                    let dislikeGain = 0;
                    let commentCountGain = 0;
                    let commandGain = 0;
                    let videoGain = 0;
                    let streamGain = 0;
                    let shortGain = 0;
                    let songGain = 0;
                    let commentGain = 0;
                    let playlistGain = 0;
                    let postGain = 0;
                    let podcastGain = 0;
                    if (data.list[q - 1]) {
                        subGain = checkStr(Math.floor(data.list[q][1] - Math.floor(data.list[q - 1][1])).toLocaleString())
                        viewGain = checkStr((data.list[q][2] - data.list[q - 1][2]).toLocaleString())
                        likeGain = checkStr((data.list[q][3] - data.list[q - 1][3]).toLocaleString())
                        dislikeGain = checkStr((data.list[q][4] - data.list[q - 1][4]).toLocaleString())
                        commentCountGain = checkStr((data.list[q][5] - data.list[q - 1][5]).toLocaleString())
                        videoGain = checkStr((data.list[q][6] - data.list[q - 1][6]).toLocaleString())
                        commandGain = checkStr((data.list[q][7] - data.list[q - 1][7]).toLocaleString())
                        streamGain = checkStr((data.list[q][8] - data.list[q - 1][8]).toLocaleString())
                        shortGain = checkStr((data.list[q][9] - data.list[q - 1][9]).toLocaleString())
                        songGain = checkStr((data.list[q][10] - data.list[q - 1][10]).toLocaleString())
                        commentGain = checkStr((data.list[q][11] - data.list[q - 1][11]).toLocaleString())
                        playlistGain = checkStr((data.list[q][12] - data.list[q - 1][12]).toLocaleString())
                        postGain = checkStr((data.list[q][13] - data.list[q - 1][13]).toLocaleString())
                        podcastGain = checkStr((data.list[q][14] - data.list[q - 1][14]).toLocaleString())
                    } else {
                        subGain = "+" + Math.floor(data.list[q][1]).toLocaleString()
                        viewGain = "+" + Math.floor(data.list[q][2]).toLocaleString()
                        likeGain = "+" + Math.floor(data.list[q][3]).toLocaleString()
                        dislikeGain = "+" + Math.floor(data.list[q][4]).toLocaleString()
                        commentCountGain = "+" + Math.floor(data.list[q][5]).toLocaleString()
                        videoGain = "+" + Math.floor(data.list[q][6]).toLocaleString()
                        commandGain = "+" + Math.floor(data.list[q][7]).toLocaleString()
                        streamGain = "+" + Math.floor(data.list[q][8]).toLocaleString()
                        shortGain = "+" + Math.floor(data.list[q][9]).toLocaleString()
                        songGain = "+" + Math.floor(data.list[q][10]).toLocaleString()
                        commentGain = "+" + Math.floor(data.list[q][11]).toLocaleString()
                        playlistGain = "+" + Math.floor(data.list[q][12]).toLocaleString()
                        postGain = "+" + Math.floor(data.list[q][13]).toLocaleString()
                        podcastGain = "+" + Math.floor(data.list[q][14]).toLocaleString()
                    }
                    var htmlcard = `<tr>
                    <td style="border: solid 1px #FFF;" id="date_${q}">${data.list[q][0]}</td>
                        <td style="border: solid 1px #FFF;" id="subs_${q}">${Math.floor(data.list[q][1]).toLocaleString()}</td>
                        <td style="border: solid 1px #FFF;" id="subgain_${q}">${subGain}</td>
                        <td style="border: solid 1px #FFF;" id="views_${q}">${Math.floor(data.list[q][2]).toLocaleString()}</td>
                        <td style="border: solid 1px #FFF;" id="viewgain_${q}">${viewGain}</td>
                        <td style="border: solid 1px #FFF;" id="likes_${q}">${Math.floor(data.list[q][3]).toLocaleString()}</td>
                        <td style="border: solid 1px #FFF;" id="likegain_${q}">${likeGain}</td>
                        <td style="border: solid 1px #FFF;" id="dislikes_${q}">${Math.floor(data.list[q][4]).toLocaleString()}</td>
                        <td style="border: solid 1px #FFF;" id="dislikegain_${q}">${dislikeGain}</td>
                        <td style="border: solid 1px #FFF;" id="comments_${q}">${Math.floor(data.list[q][5]).toLocaleString()}</td>
                        <td style="border: solid 1px #FFF;" id="commentgain_${q}">${commentCountGain}</td>
                        <td style="border: solid 1px #FFF;" id="videos_${q}">${Math.floor(data.list[q][6]).toLocaleString()}</td>
                        <td style="border: solid 1px #FFF;" id="videoGain_${q}">${videoGain}</td>
                        <td style="border: solid 1px #FFF;" id="commands_${q}">${Math.floor(data.list[q][7]).toLocaleString()}</td>
                        <td style="border: solid 1px #FFF;" id="commandgain_${q}">${commandGain}</td>
                        <td style="border: solid 1px #FFF;" id="streams_${q}">${Math.floor(data.list[q][8]).toLocaleString()}</td>
                        <td style="border: solid 1px #FFF;" id="streamgain_${q}">${streamGain}</td>
                        <td style="border: solid 1px #FFF;" id="shorts_${q}">${Math.floor(data.list[q][9]).toLocaleString()}</td>
                        <td style="border: solid 1px #FFF;" id="shortgain_${q}">${shortGain}</td>
                        <td style="border: solid 1px #FFF;" id="songs_${q}">${Math.floor(data.list[q][10]).toLocaleString()}</td>
                        <td style="border: solid 1px #FFF;" id="songgain_${q}">${songGain}</td>
                        <td style="border: solid 1px #FFF;" id="comments_${q}">${Math.floor(data.list[q][11]).toLocaleString()}</td>
                        <td style="border: solid 1px #FFF;" id="commentgain_${q}">${commentGain}</td>
                        <td style="border: solid 1px #FFF;" id="playlists_${q}">${Math.floor(data.list[q][12]).toLocaleString()}</td>
                        <td style="border: solid 1px #FFF;" id="playlistgain_${q}">${playlistGain}</td>
                        <td style="border: solid 1px #FFF;" id="posts_${q}">${Math.floor(data.list[q][13]).toLocaleString()}</td>
                        <td style="border: solid 1px #FFF;" id="postgain_${q}">${postGain}</td>
                        <td style="border: solid 1px #FFF;" id="podcasts_${q}">${Math.floor(data.list[q][14]).toLocaleString()}</td>
                        <td style="border: solid 1px #FFF;" id="podcastgain_${q}">${podcastGain}</td>
                    </tr>`;
                    $('.counters').append(htmlcard)
                    chartData1.push([data.list[q][0], Math.floor(data.list[q][1])])
                    chartData2.push([data.list[q][0], Math.floor(data.list[q][2])])
                    chartData3.push([data.list[q][0], Math.floor(data.list[q][3])])
                    chartData4.push([data.list[q][0], Math.floor(data.list[q][4])])
                    chartData5.push([data.list[q][0], Math.floor(data.list[q][5])])
                    chartData6.push([data.list[q][0], Math.floor(data.list[q][6])])
                    chartData7.push([data.list[q][0], Math.floor(data.list[q][7])])
                    chartData8.push([data.list[q][0], Math.floor(data.list[q][8])])
                    chartData9.push([data.list[q][0], Math.floor(data.list[q][9])])
                    chartData10.push([data.list[q][0], Math.floor(data.list[q][10])])
                    chartData11.push([data.list[q][0], Math.floor(data.list[q][11])])
                    chartData12.push([data.list[q][0], Math.floor(data.list[q][12])])
                    chartData13.push([data.list[q][0], Math.floor(data.list[q][13])])
                    chartData14.push([data.list[q][0], Math.floor(data.list[q][14])])
                }
                function checkStr(input) {
                    if (input > 0) {
                        return "+" + input
                    } else {
                        return input
                    }
                }
                let chart1 = new Highcharts.chart({
                    chart: {
                        renderTo: 'chart1',
                        type: 'areaspline',
                        zoomType: 'x',
                        backgroundColor: 'transparent',
                        plotBorderColor: 'transparent'
                    },
                    title: {
                        text: ' '
                    },
                    credits: {
                        enabled: false,
                    }, xAxis: {
                        type: 'datetime',
                        visible: false
                    },
                    yAxis: {
                        visible: false,
                    },
                    plotOptions: {
                        series: {
                            threshold: null,
                            fillOpacity: 0.25
                        },
                        area: {
                            fillOpacity: 0.25
                        }
                    },
                    series: [{
                        showInLegend: false,
                        name: 'Subscribers',
                        marker: { enabled: false },
                        color: '#FFF',
                        lineColor: '#FFF',
                        lineWidth: 2,
                        data: chartData1
                    }]
                });
                let chart2 = new Highcharts.chart({
                    chart: {
                        renderTo: 'chart2',
                        type: 'areaspline',
                        zoomType: 'x',
                        backgroundColor: 'transparent',
                        plotBorderColor: 'transparent'
                    },
                    title: {
                        text: ' '
                    },
                    credits: {
                        enabled: false,
                    }, xAxis: {
                        type: 'datetime',
                        visible: false
                    },
                    yAxis: {
                        visible: false,
                    },
                    plotOptions: {
                        series: {
                            threshold: null,
                            fillOpacity: 0.25
                        },
                        area: {
                            fillOpacity: 0.25
                        }
                    },
                    series: [{
                        showInLegend: false,
                        name: 'Views',
                        marker: { enabled: false },
                        color: '#FFF',
                        lineColor: '#FFF',
                        lineWidth: 2,
                        data: chartData2
                    }]
                });
                let chart3 = new Highcharts.chart({
                    chart: {
                        renderTo: 'chart3',
                        type: 'areaspline',
                        zoomType: 'x',
                        backgroundColor: 'transparent',
                        plotBorderColor: 'transparent'
                    },
                    title: {
                        text: ' '
                    },
                    credits: {
                        enabled: false,
                    }, xAxis: {
                        type: 'datetime',
                        visible: false
                    },
                    yAxis: {
                        visible: false,
                    },
                    plotOptions: {
                        series: {
                            threshold: null,
                            fillOpacity: 0.25
                        },
                        area: {
                            fillOpacity: 0.25
                        }
                    },
                    series: [{
                        showInLegend: false,
                        name: 'Likes',
                        marker: { enabled: false },
                        color: '#FFF',
                        lineColor: '#FFF',
                        lineWidth: 2,
                        data: chartData3
                    }]
                });
                let chart4 = new Highcharts.chart({
                    chart: {
                        renderTo: 'chart4',
                        type: 'areaspline',
                        zoomType: 'x',
                        backgroundColor: 'transparent',
                        plotBorderColor: 'transparent'
                    },
                    title: {
                        text: ' '
                    },
                    credits: {
                        enabled: false,
                    }, xAxis: {
                        type: 'datetime',
                        visible: false
                    },
                    yAxis: {
                        visible: false,
                    },
                    plotOptions: {
                        series: {
                            threshold: null,
                            fillOpacity: 0.25
                        },
                        area: {
                            fillOpacity: 0.25
                        }
                    },
                    series: [{
                        showInLegend: false,
                        name: 'Dislikes',
                        marker: { enabled: false },
                        color: '#FFF',
                        lineColor: '#FFF',
                        lineWidth: 2,
                        data: chartData4
                    }]
                });
                let chart5 = new Highcharts.chart({
                    chart: {
                        renderTo: 'chart5',
                        type: 'areaspline',
                        zoomType: 'x',
                        backgroundColor: 'transparent',
                        plotBorderColor: 'transparent'
                    },
                    title: {
                        text: ' '
                    },
                    credits: {
                        enabled: false,
                    }, xAxis: {
                        type: 'datetime',
                        visible: false
                    },
                    yAxis: {
                        visible: false,
                    },
                    plotOptions: {
                        series: {
                            threshold: null,
                            fillOpacity: 0.25
                        },
                        area: {
                            fillOpacity: 0.25
                        }
                    },
                    series: [{
                        showInLegend: false,
                        name: 'Comments',
                        marker: { enabled: false },
                        color: '#FFF',
                        lineColor: '#FFF',
                        lineWidth: 2,
                        data: chartData5
                    }]
                });
                let chart6 = new Highcharts.chart({
                    chart: {
                        renderTo: 'chart6',
                        type: 'areaspline',
                        zoomType: 'x',
                        backgroundColor: 'transparent',
                        plotBorderColor: 'transparent'
                    },
                    title: {
                        text: ' '
                    },
                    credits: {
                        enabled: false,
                    }, xAxis: {
                        type: 'datetime',
                        visible: false
                    },
                    yAxis: {
                        visible: false,
                    },
                    plotOptions: {
                        series: {
                            threshold: null,
                            fillOpacity: 0.25
                        },
                        area: {
                            fillOpacity: 0.25
                        }
                    },
                    series: [{
                        showInLegend: false,
                        name: 'Videos',
                        marker: { enabled: false },
                        color: '#FFF',
                        lineColor: '#FFF',
                        lineWidth: 2,
                        data: chartData6
                    }]
                });
                let chart7 = new Highcharts.chart({
                    chart: {
                        renderTo: 'chart7',
                        type: 'areaspline',
                        zoomType: 'x',
                        backgroundColor: 'transparent',
                        plotBorderColor: 'transparent'
                    },
                    title: {
                        text: ' '
                    },
                    credits: {
                        enabled: false,
                    }, xAxis: {
                        type: 'datetime',
                        visible: false
                    },
                    yAxis: {
                        visible: false,
                    },
                    plotOptions: {
                        series: {
                            threshold: null,
                            fillOpacity: 0.25
                        },
                        area: {
                            fillOpacity: 0.25
                        }
                    },
                    series: [{
                        showInLegend: false,
                        name: 'Commands',
                        marker: { enabled: false },
                        color: '#FFF',
                        lineColor: '#FFF',
                        lineWidth: 2,
                        data: chartData7
                    }]
                });
                let chart8 = new Highcharts.chart({
                    chart: {
                        renderTo: 'chart8',
                        type: 'areaspline',
                        zoomType: 'x',
                        backgroundColor: 'transparent',
                        plotBorderColor: 'transparent'
                    },
                    title: {
                        text: ' '
                    },
                    credits: {
                        enabled: false,
                    }, xAxis: {
                        type: 'datetime',
                        visible: false
                    },
                    yAxis: {
                        visible: false,
                    },
                    plotOptions: {
                        series: {
                            threshold: null,
                            fillOpacity: 0.25
                        },
                        area: {
                            fillOpacity: 0.25
                        }
                    },
                    series: [{
                        showInLegend: false,
                        name: 'Streams',
                        marker: { enabled: false },
                        color: '#FFF',
                        lineColor: '#FFF',
                        lineWidth: 2,
                        data: chartData8
                    }]
                });
                let chart9 = new Highcharts.chart({
                    chart: {
                        renderTo: 'chart9',
                        type: 'areaspline',
                        zoomType: 'x',
                        backgroundColor: 'transparent',
                        plotBorderColor: 'transparent'
                    },
                    title: {
                        text: ' '
                    },
                    credits: {
                        enabled: false,
                    }, xAxis: {
                        type: 'datetime',
                        visible: false
                    },
                    yAxis: {
                        visible: false,
                    },
                    plotOptions: {
                        series: {
                            threshold: null,
                            fillOpacity: 0.25
                        },
                        area: {
                            fillOpacity: 0.25
                        }
                    },
                    series: [{
                        showInLegend: false,
                        name: 'Shorts',
                        marker: { enabled: false },
                        color: '#FFF',
                        lineColor: '#FFF',
                        lineWidth: 2,
                        data: chartData9
                    }]
                });
                let chart10 = new Highcharts.chart({
                    chart: {
                        renderTo: 'chart10',
                        type: 'areaspline',
                        zoomType: 'x',
                        backgroundColor: 'transparent',
                        plotBorderColor: 'transparent'
                    },
                    title: {
                        text: ' '
                    },
                    credits: {
                        enabled: false,
                    }, xAxis: {
                        type: 'datetime',
                        visible: false
                    },
                    yAxis: {
                        visible: false,
                    },
                    plotOptions: {
                        series: {
                            threshold: null,
                            fillOpacity: 0.25
                        },
                        area: {
                            fillOpacity: 0.25
                        }
                    },
                    series: [{
                        showInLegend: false,
                        name: 'Songs',
                        marker: { enabled: false },
                        color: '#FFF',
                        lineColor: '#FFF',
                        lineWidth: 2,
                        data: chartData10
                    }]
                });
                let chart11 = new Highcharts.chart({
                    chart: {
                        renderTo: 'chart11',
                        type: 'areaspline',
                        zoomType: 'x',
                        backgroundColor: 'transparent',
                        plotBorderColor: 'transparent'
                    },
                    title: {
                        text: ' '
                    },
                    credits: {
                        enabled: false,
                    }, xAxis: {
                        type: 'datetime',
                        visible: false
                    },
                    yAxis: {
                        visible: false,
                    },
                    plotOptions: {
                        series: {
                            threshold: null,
                            fillOpacity: 0.25
                        },
                        area: {
                            fillOpacity: 0.25
                        }
                    },
                    series: [{
                        showInLegend: false,
                        name: 'Comments',
                        marker: { enabled: false },
                        color: '#FFF',
                        lineColor: '#FFF',
                        lineWidth: 2,
                        data: chartData11
                    }]
                });
                let chart12 = new Highcharts.chart({
                    chart: {
                        renderTo: 'chart12',
                        type: 'areaspline',
                        zoomType: 'x',
                        backgroundColor: 'transparent',
                        plotBorderColor: 'transparent'
                    },
                    title: {
                        text: ' '
                    },
                    credits: {
                        enabled: false,
                    }, xAxis: {
                        type: 'datetime',
                        visible: false
                    },
                    yAxis: {
                        visible: false,
                    },
                    plotOptions: {
                        series: {
                            threshold: null,
                            fillOpacity: 0.25
                        },
                        area: {
                            fillOpacity: 0.25
                        }
                    },
                    series: [{
                        showInLegend: false,
                        name: 'Playlists',
                        marker: { enabled: false },
                        color: '#FFF',
                        lineColor: '#FFF',
                        lineWidth: 2,
                        data: chartData12
                    }]
                });
                let chart13 = new Highcharts.chart({
                    chart: {
                        renderTo: 'chart13',
                        type: 'areaspline',
                        zoomType: 'x',
                        backgroundColor: 'transparent',
                        plotBorderColor: 'transparent'
                    },
                    title: {
                        text: ' '
                    },
                    credits: {
                        enabled: false,
                    }, xAxis: {
                        type: 'datetime',
                        visible: false
                    },
                    yAxis: {
                        visible: false,
                    },
                    plotOptions: {
                        series: {
                            threshold: null,
                            fillOpacity: 0.25
                        },
                        area: {
                            fillOpacity: 0.25
                        }
                    },
                    series: [{
                        showInLegend: false,
                        name: 'Posts',
                        marker: { enabled: false },
                        color: '#FFF',
                        lineColor: '#FFF',
                        lineWidth: 2,
                        data: chartData13
                    }]
                });
                let chart14 = new Highcharts.chart({
                    chart: {
                        renderTo: 'chart14',
                        type: 'areaspline',
                        zoomType: 'x',
                        backgroundColor: 'transparent',
                        plotBorderColor: 'transparent'
                    },
                    title: {
                        text: ' '
                    },
                    credits: {
                        enabled: false,
                    }, xAxis: {
                        type: 'datetime',
                        visible: false
                    },
                    yAxis: {
                        visible: false,
                    },
                    plotOptions: {
                        series: {
                            threshold: null,
                            fillOpacity: 0.25
                        },
                        area: {
                            fillOpacity: 0.25
                        }
                    },
                    series: [{
                        showInLegend: false,
                        name: 'Podcasts',
                        marker: { enabled: false },
                        color: '#FFF',
                        lineColor: '#FFF',
                        lineWidth: 2,
                        data: chartData14
                    }]
                });
            })
    }
    load();

    function changeTab(thing) {
        if (thing == "videos") {
            document.getElementById('videosTab').style.display = "grid"
            document.getElementById('commentsTab').style.display = "none"
            document.getElementById('postsTab').style.display = "none"
            document.getElementById('playlistsTab').style.display = "none"
            document.getElementById('graphsTab').style.display = "none"
            document.getElementById('statsTable').style.display = "none"
            document.getElementById('button1').style.border = "solid 1px #FFF"
            document.getElementById('button2').style.border = "none"
            document.getElementById('button3').style.border = "none"
            document.getElementById('button4').style.border = "none"
            document.getElementById('button5').style.border = "none"
            document.getElementById('button6').style.border = "none"
            document.getElementById('button7').style.border = "none"
        } else if (thing == "comments") {
            document.getElementById('videosTab').style.display = "none"
            document.getElementById('commentsTab').style.display = "grid"
            document.getElementById('postsTab').style.display = "none"
            document.getElementById('playlistsTab').style.display = "none"
            document.getElementById('graphsTab').style.display = "none"
            document.getElementById('statsTable').style.display = "none"
            document.getElementById('button1').style.border = "none"
            document.getElementById('button2').style.border = "solid 1px #FFF"
            document.getElementById('button3').style.border = "none"
            document.getElementById('button4').style.border = "none"
            document.getElementById('button5').style.border = "none"
            document.getElementById('button6').style.border = "none"
            document.getElementById('button7').style.border = "none"
        } else if (thing == "posts") {
            document.getElementById('videosTab').style.display = "none"
            document.getElementById('commentsTab').style.display = "none"
            document.getElementById('postsTab').style.display = "grid"
            document.getElementById('playlistsTab').style.display = "none"
            document.getElementById('graphsTab').style.display = "none"
            document.getElementById('statsTable').style.display = "none"
            document.getElementById('button1').style.border = "none"
            document.getElementById('button2').style.border = "none"
            document.getElementById('button3').style.border = "solid 1px #FFF"
            document.getElementById('button4').style.border = "none"
            document.getElementById('button5').style.border = "none"
            document.getElementById('button6').style.border = "none"
            document.getElementById('button7').style.border = "none"
        } else if (thing == "playlists") {
            document.getElementById('videosTab').style.display = "none"
            document.getElementById('commentsTab').style.display = "none"
            document.getElementById('postsTab').style.display = "none"
            document.getElementById('playlistsTab').style.display = "grid"
            document.getElementById('graphsTab').style.display = "none"
            document.getElementById('statsTable').style.display = "none"
            document.getElementById('button1').style.border = "none"
            document.getElementById('button2').style.border = "none"
            document.getElementById('button3').style.border = "none"
            document.getElementById('button4').style.border = "solid 1px #FFF"
            document.getElementById('button5').style.border = "none"
            document.getElementById('button6').style.border = "none"
            document.getElementById('button7').style.border = "none"
        } else if (thing == "graphs") {
            document.getElementById('videosTab').style.display = "none"
            document.getElementById('commentsTab').style.display = "none"
            document.getElementById('postsTab').style.display = "none"
            document.getElementById('playlistsTab').style.display = "none"
            document.getElementById('graphsTab').style.display = "grid"
            document.getElementById('statsTable').style.display = "none"
            document.getElementById('button1').style.border = "none"
            document.getElementById('button2').style.border = "none"
            document.getElementById('button3').style.border = "none"
            document.getElementById('button4').style.border = "none"
            document.getElementById('button5').style.border = "solid 1px #FFF"
            document.getElementById('button6').style.border = "none"
            document.getElementById('button7').style.border = "none"
        } else if (thing == "stats") {
            document.getElementById('videosTab').style.display = "none"
            document.getElementById('commentsTab').style.display = "none"
            document.getElementById('postsTab').style.display = "none"
            document.getElementById('playlistsTab').style.display = "none"
            document.getElementById('graphsTab').style.display = "none"
            document.getElementById('statsTab').style.display = "grid"
            document.getElementById('statsTable').style.display = "none"
            document.getElementById('button1').style.border = "none"
            document.getElementById('button2').style.border = "none"
            document.getElementById('button3').style.border = "none"
            document.getElementById('button4').style.border = "none"
            document.getElementById('button5').style.border = "none"
            document.getElementById('button6').style.border = "solid 1px #FFF"
            document.getElementById('button7').style.border = "none"
            new Odometer({
                el: document.querySelector('#odometer'),
                value: 0,
                format: '(,ddd)',
                theme: 'minimal'
            });
        } else if (thing == "table") {
            document.getElementById('videosTab').style.display = "none"
            document.getElementById('commentsTab').style.display = "none"
            document.getElementById('postsTab').style.display = "none"
            document.getElementById('playlistsTab').style.display = "none"
            document.getElementById('graphsTab').style.display = "none"
            document.getElementById('statsTable').style.display = "grid"
            document.getElementById('button1').style.border = "none"
            document.getElementById('button2').style.border = "none"
            document.getElementById('button3').style.border = "none"
            document.getElementById('button4').style.border = "none"
            document.getElementById('button5').style.border = "none"
            document.getElementById('button6').style.border = "none"
            document.getElementById('button7').style.border = "solid 1px #FFF"
        }
    }

    function timeSince(date) {
        var seconds = Math.floor((new Date() - date) / 1000);
        var interval = seconds / 31536000;
        if (interval > 1) {
            return Math.floor(interval) + " years";
        }
        interval = seconds / 2592000;
        if (interval > 1) {
            return Math.floor(interval) + " months";
        }
        interval = seconds / 86400;
        if (interval > 1) {
            return Math.floor(interval) + " days";
        }
        interval = seconds / 3600;
        if (interval > 1) {
            return Math.floor(interval) + " hours";
        }
        interval = seconds / 60;
        if (interval > 1) {
            return Math.floor(interval) + " minutes";
        }
        return Math.floor(seconds) + " seconds";
    }

    function update() {
        fetch('/user2/' + id + '')
            .then(response => response.json())
            .then(data => {
                document.getElementById('subs').innerHTML = Math.floor(data.subs).toLocaleString()
                document.getElementById('odometer').innerHTML = Math.floor(data.subs);
                setTimeout(function () {
                    document.getElementById('videos').innerHTML = Math.floor(data.videos).toLocaleString()
                    document.getElementById('commands').innerHTML = Math.floor(data.commands).toLocaleString()
                    document.getElementById('streams').innerHTML = Math.floor(data.streams).toLocaleString()
                    document.getElementById('shorts').innerHTML = Math.floor(data.shorts).toLocaleString()
                    document.getElementById('songs').innerHTML = Math.floor(data.songs).toLocaleString()
                    document.getElementById('comments').innerHTML = Math.floor(data.comments).toLocaleString()
                    document.getElementById('playlists').innerHTML = Math.floor(data.playlists).toLocaleString()
                    document.getElementById('posts').innerHTML = Math.floor(data.posts).toLocaleString()
                    document.getElementById('podcasts').innerHTML = Math.floor(data.podcasts).toLocaleString()
                    document.getElementById('last').innerHTML = new Date(data.lastMSG)
                    document.getElementById('likes').innerHTML = Math.floor(data.likes).toLocaleString()
                    document.getElementById('dislikes').innerHTML = Math.floor(data.dislikes).toLocaleString()
                    document.getElementById('views').innerHTML = Math.floor(data.views).toLocaleString()
                    document.getElementById('commentCount').innerHTML = Math.floor(data.commentCount).toLocaleString()
                }, 2000)
                if (chart.series[0].points.length == 1500) chart.series[0].data[0].remove();
                chart.series[0].addPoint([Date.now(), Math.floor(data.subs)])
            })
    }
    let chart = new Highcharts.chart({
        chart: {
            renderTo: 'chart',
            type: 'areaspline',
            zoomType: 'x',
            backgroundColor: 'transparent',
            plotBorderColor: 'transparent'
        },
        title: {
            text: ' '
        },
        credits: {
            enabled: false,
        }, xAxis: {
            type: 'datetime',
            visible: false
        },
        yAxis: {
            visible: false,
        },
        plotOptions: {
            series: {
                threshold: null,
                fillOpacity: 0.25
            },
            area: {
                fillOpacity: 0.25
            }
        },
        series: [{
            showInLegend: false,
            name: 'Subscribers',
            marker: { enabled: false },
            color: '#FFF',
            lineColor: '#FFF',
            lineWidth: 2
        }]
    });

    update()
    setInterval(update, 5000)

    if (localStorage.getItem('token')) {
        fetch('/me', {
            headers: {
                'Authorization': localStorage.getItem('token')
            }
        })
            .then(response => response.json())
            .then(data => {
                document.getElementById('edit').src = data.user.image
            })
    }
</script>

</html>